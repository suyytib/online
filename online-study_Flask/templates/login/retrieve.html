{% extends 'base.html' %} {% block title %} 找回密码 {% endblock %} {% block head %}
<!-- 加载注册用的js代码 -->
<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="../../static/js/retrieve.js"></script>
<link rel="stylesheet" type="text/css" href="../../static/css/code.css" />
<link rel="stylesheet" href="../../static/css/root.css" />

<link rel="stylesheet" href="../../static/css/bootstart/bootstrap.min.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap-grid.css" />
<link rel="stylesheet" href="../../static/css/bootstart/bootstrap-grid.rtl.css" />
{% endblock %} {% block body %}
<div id="particles-js" style="z-index: 0;position:absolute;width: 100%;height: 780px"></div>
<div class="py-xl" style="background: url(/static/images/w1.jpg);background-attachment: fixed;">
    <div class="container">
        <div class="col">
            <div class="row justify-content-center">
                <div class="col-lg-4">
                    <div class="card bg-info text-white">
                        <div class="card-body">
                            <h4 class="h3 text-white pt-3 pb-5">找回密码</h4>
                            <form action="{{url_for('login.retrieve_captcha')}}" method="post">
                                <div class="form-group">
                                    <label>邮箱：</label>
                                    <!-- 邮箱用来发送邮件验证码 -->
                                    <input type="text" name="email" class="form-control" placeholder="请输入邮箱" />
                                </div>
                                <div class="form-group">
                                    <label>原密码: </label>
                                    <input type="password" name="passwd" class="form-control" placeholder="请输入密码" />
                                </div>
                                <div class="form-group">
                                    <!-- 这个button标签的操作由js文件实现 -->
                                    <button type="button" id="button" class="btn btn-block btn-lg bg-white mt-4">
                                        获取原密码
                                    </button>
                                </div>
                                <div class="form-group">
                                    <label>新密码: </label>
                                    <input type="password" name="re_password" class="form-control"
                                        placeholder="请确认密码" />
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-block btn-lg bg-white mt-4">
                                        修改密码
                                    </button>
                                    <!-- 使用js实现回到登陆界面 -->
                                    <a href="{{url_for('root')}}" class="btn btn-block btn-lg bg-white mt-4">取消</a>
                                </div>
                                <div class="form-group">
                                    {% if password_error %}
                                    <p>{{ password_error }}</p>
                                    {% endif %}
                                    {% if re_password_error %}
                                    <p>{{ re_password_error }}</p>
                                    {% endif %}
                                    {% if email_error %}
                                    <p>{{ email_error }}</p>
                                    {% endif %}
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    particlesJS("particles-js", {
        // 粒子的基本配置
        particles: {
            number: {
                value: 80,  // 粒子数量
                density: {
                    enable: true,
                    value_area: 800,  // 粒子分布密度
                },
            },
            color: {
                value: "#ffffff",  // 粒子颜色
            },
            shape: {
                type: "circle",  // 粒子形状，支持 circle（圆形）等
                stroke: {
                    width: 0,
                    color: "#000000",
                },
                polygon: {
                    nb_sides: 5,
                },
            },
            opacity: {
                value: 0.5,  // 粒子透明度
                random: false,
                anim: {
                    enable: false,
                    speed: 1,
                    opacity_min: 0.1,
                    sync: false,
                },
            },
            size: {
                value: 3,  // 粒子大小
                random: true,
                anim: {
                    enable: false,
                    speed: 40,
                    size_min: 0.1,
                    sync: false,
                },
            },
            line_linked: {
                enable: true,
                distance: 150,  // 粒子间连线的距离
                color: "#ffffff",  // 粒子间连线的颜色
                opacity: 0.4,  // 粒子间连线的透明度
                width: 1,  // 粒子间连线的宽度
            },
            move: {
                enable: true,
                speed: 6,  // 粒子运动速度
                direction: "none",
                random: false,
                straight: false,
                out_mode: "out",
                bounce: false,
                attract: {
                    enable: false,
                    rotateX: 600,
                    rotateY: 1200,
                },
            },
        },
        // 交互性的配置
        interactivity: {
            detect_on: "canvas",
            events: {
                onhover: {
                    enable: true,
                    mode: "repulse",  // 鼠标悬停效果
                },
                onclick: {
                    enable: true,
                    mode: "push",  // 鼠标点击效果
                },
                resize: true,
            },
            modes: {
                grab: {
                    distance: 400,
                    line_linked: {
                        opacity: 1,
                    },
                },
                bubble: {
                    distance: 400,
                    size: 40,
                    duration: 2,
                    opacity: 8,
                    speed: 3,
                },
                repulse: {
                    distance: 200,
                    duration: 0.4,
                },
                push: {
                    particles_nb: 4,
                },
                remove: {
                    particles_nb: 2,
                },
            },
        },
        retina_detect: true,
    });
</script>
{% endblock %}